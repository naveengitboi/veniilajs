<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="player.css" />
    <title>Video Player</title>
  </head>
  <body>
    <div class="player">
      <video src="./video.mp4" class="playerVideo viewer"  width="280px"></video>

      <div class="playerControls">
        <div class="progress">
          <div class="progressFilled"></div>
        </div>
      
      <button class="playerButton toggle" title="Toggle Player">▶️</button>
      <input
        type="range"
        name="volume"
        class="playerSlider playerInput"
        min="0"
        max="1"
        step="0.05"
        value="1"
      />
      <input
        type="range"
        name="playbackRate"
        class="playerSlider"
        min="0.5"
        max="2"
        step="0.1"
        value="1"
      />

      <button data-skip="-10" class="playerButton"><<<10s>>></button>
      <button data-skip="25" class="playerButton"><<<25>>></button>
        </div>
    </div>


<script>
    const video = document.querySelector('.playerVideo');

    let start = false

    function handleVideoPlayer(){
        if(start == false){
            video.style.cursor = 'pointer'
            video.play()
            start = !start;
            console.log(video.played)
            console.dir(video)
            if(video.readyState > 0) {
                onReadyState();
            }
        }
        else{
            video.pause()
            start = !start
        }
    }



    console.dir(video)
    video.addEventListener('click', handleVideoPlayer);

    function onReadyState() {
        const intervalId = setInterval(function() {
            let min = parseInt(video.duration/60, 10);
            let sec = video.duration%60;
            console.log(sec, min)
            clearInterval(intervalId);
        }, 200)
    }


</script>


  </body>
</html>
